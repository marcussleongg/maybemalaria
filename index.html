<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAU-qMK7iqlaPfllH4w5BCqW2GI6X_sf1M&libraries=places" defer></script>
<script type="text/javascript" src="script2.js" defer></script>
<link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
<title>Malaria Search</title>
<!-- Link to the external CSS file -->
<link rel="stylesheet" href="styles.css">
<script src="script.js"></script>
</head>
<body>

<div class="container">
    <header>
        <h1>Maybe Malaria</h1>
    </header>

    <section class="search-section">
        <div class="search-bar">
            <span class="search-icon">üîç</span>
            <input id= "autocomplete" type="text"  class="search-input" placeholder="Current location? Search a location?">
        </div>
    </section>

    <!-- Question Sections (each question on a separate page) -->
    <section class="question-section" id="question1">
        <div class="question">
            <label for="infant">Do you have an infant or children under the age of 5?</label>
            <div class="radio-buttons">
                <label><input type="radio" name="infant" value="yes"> Yes</label>
                <label><input type="radio" name="infant" value="no"> No</label>
            </div>
        </div>
    </section>

    <section class="question-section" id="question2">
        <div class="question">
            <label for="hiv">Do you have HIV/AIDs?</label>
            <div class="radio-buttons">
                <label><input type="radio" name="hiv" value="yes"> Yes</label>
                <label><input type="radio" name="hiv" value="no"> No</label>
            </div>
        </div>
    </section>

    <section class="question-section" id="question3">
        <div class="question">
            <label for="pregnant">Are you pregnant?</label>
            <div class="radio-buttons">
                <label><input type="radio" name="pregnant" value="yes"> Yes</label>
                <label><input type="radio" name="pregnant" value="no"> No</label>
            </div>
        </div>
    </section>

    <section class="question-section" id="question4">
        <div class="question">
            <label for="traveling">Have you been to this area for the first time?</label>
            <div class="radio-buttons">
                <label><input type="radio" name="traveling" value="yes"> Yes</label>
                <label><input type="radio" name="traveling" value="no"> No</label>
            </div>
        </div>
    </section>

    <section class="question-section" id="question5">
        <div class="question">
            <label for="age">What is your age?</label>
            <input type="number" id="age" name="age" class="age-input" placeholder="Enter your age" min="1" max="120" required>
            <!-- Output field below the input, styled to be larger -->
        </div>             
    </section>

    <!-- Navigation Buttons -->
    <div class="navigation">
        <button id="back-btn" onclick="navigate(-1)">Back</button>
        <button id="next-btn" onclick="navigate(1)">Next</button>
        <button id="finish-btn" onclick="finishQuiz()" style="display: none;">Finish</button>
    </div>

    <!-- Malaria Susceptibility Section -->
    <section class="susceptibility-section">
        <h2>How susceptible to malaria you will be</h2>
        <div class="malaria-output">
            <p><strong>Recent counts of malaria cases at your chosen location:</strong> <span id="malaria-cases">Loading...</span></p>
            <p><strong>How susceptible you will be to contracting Malaria:</strong> <span id="malaria-susceptibility">Loading...</span></p>
        </div>
    </section>
</div>

<script>
    let currentQuestionIndex = 1;
    const totalQuestions = 5;

    function navigate(direction) {
        // Hide the current question
        document.getElementById(`question${currentQuestionIndex}`).style.display = 'none';

        // Calculate the next question index
        currentQuestionIndex += direction;

        // Ensure we're within the valid range
        if (currentQuestionIndex < 1) currentQuestionIndex = 1;
        if (currentQuestionIndex > totalQuestions) currentQuestionIndex = totalQuestions;

        // Show the next question
        document.getElementById(`question${currentQuestionIndex}`).style.display = 'block';

        // Toggle the visibility of Back, Next, and Finish buttons
        document.getElementById('back-btn').style.display = currentQuestionIndex === 1 ? 'none' : 'inline-block';
        document.getElementById('next-btn').style.display = currentQuestionIndex === totalQuestions ? 'none' : 'inline-block';
        document.getElementById('finish-btn').style.display = currentQuestionIndex === totalQuestions ? 'inline-block' : 'none';
    }

    // Function to handle Finish button click
    function finishQuiz() {
        alert("Thank you for completing the quiz!");
        // Additional actions can be added here, like submitting form data
    }

    // Initialize the first question
    document.addEventListener("DOMContentLoaded", function() {
        navigate(0);
    });
</script>

</body>
</html>
